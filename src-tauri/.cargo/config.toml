# ============================================================
# Android 构建配置 - 主流架构（99% 真机）
# ============================================================
# arm64-v8a (aarch64) = 64位 ARM - 99% 真机使用 ✅
# ============================================================

[target.aarch64-linux-android]
# API 28 (Android 9.0) - 支持 getentropy() 和加密库
ar = "D:\\Android\\SDK\\ndk\\29.0.13113456\\toolchains\\llvm\\prebuilt\\windows-x86_64\\bin\\llvm-ar.exe"
linker = "D:\\Android\\SDK\\ndk\\29.0.13113456\\toolchains\\llvm\\prebuilt\\windows-x86_64\\bin\\aarch64-linux-android28-clang.cmd"

# ============================================================
# 其他架构（可选，根据需要取消注释）
# ============================================================
# armeabi-v7a (32位 ARM) - 老旧设备，市场占有率 <1%
# [target.armv7-linux-androideabi]
# ar = "D:\\Android\\SDK\\ndk\\29.0.13113456\\toolchains\\llvm\\prebuilt\\windows-x86_64\\bin\\llvm-ar.exe"
# linker = "D:\\Android\\SDK\\ndk\\29.0.13113456\\toolchains\\llvm\\prebuilt\\windows-x86_64\\bin\\armv7a-linux-androideabi28-clang.cmd"

# x86_64 (Intel/AMD) - 主要用于模拟器
# [target.x86_64-linux-android]
# ar = "D:\\Android\\SDK\\ndk\\29.0.13113456\\toolchains\\llvm\\prebuilt\\windows-x86_64\\bin\\llvm-ar.exe"
# linker = "D:\\Android\\SDK\\ndk\\29.0.13113456\\toolchains\\llvm\\prebuilt\\windows-x86_64\\bin\\x86_64-linux-android28-clang.cmd"

[env]
# 链接器配置
CARGO_TARGET_AARCH64_LINUX_ANDROID_LINKER = "aarch64-linux-android28-clang.cmd"

# ============================================================
# AWS-LC-SYS Android 兼容性配置
# ============================================================
# 禁用 getentropy（Android NDK 不支持此系统调用）
AWS_LC_SYS_NO_GETENTROPY = "1"

# 禁用 jitter entropy（提升 NDK 兼容性）
AWS_LC_SYS_NO_JITTER_ENTROPY = "1"


